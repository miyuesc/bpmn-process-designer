<p align="center">
  <a href="https://github.com/miyuesc/bpmn-process-designer">
   <img alt="logo" src="./public/icon-process.png" />
  </a>
</p>

<h1 align="center">Bpmn Process Designer</h1>

<p align="center">
<img alt="GitHub stars" src="https://img.shields.io/github/stars/miyuesc/bpmn-process-designer?style=flat&logo=github" />
<img alt="GitHub stars" src="https://img.shields.io/github/forks/miyuesc/bpmn-process-designer?style=flat&logo=github" />
<img src='https://gitee.com/miyuesc/bpmn-process-designer/badge/star.svg?theme=dark' alt='star' />
<img src='https://gitee.com/miyuesc/bpmn-process-designer/badge/fork.svg?theme=dark' alt='fork' />
</p>

<p align="center">
<img src="https://img.shields.io/badge/Vue-2.x-brightgreen" alt="" />
<img src="https://img.shields.io/badge/ElementUI-%5E2.13-orange" alt="" />
<img src="https://img.shields.io/badge/Bpmn.js-8.8.3-orange" alt="" />
</p>


### é¡¹ç›®ç®€ä»‹

ä¸€ä¸ªåŸºäº `bpmn.js`ï¼Œ`Vue 2.x` å’Œ `ElementUI` å¼€å‘çš„æµç¨‹è®¾è®¡å™¨ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨å®ƒåœ¨æµè§ˆå™¨ä¸ŠæŸ¥çœ‹å’Œç¼–è¾‘ç¬¦åˆ `BPMN 2.0` è§„èŒƒçš„æµç¨‹æ–‡ä»¶ã€‚

åœ¨çº¿demoè¯·è®¿é—® [MiyueFE Blog](https://miyuesc.github.io/process-designer/)

ç äº‘åŒæ­¥é•œåƒè¯·è®¿é—® [Gitee/MiyueSC Process Designer](https://miyuesc.gitee.io/process-designer/)

> ğŸš€ğŸš€ğŸš€
> 
> **Vite + Vue 3 + pinia + naiveUI æ–°é¡¹ç›®ï¼Œå–æ¶ˆäº†windowå‘½åç©ºé—´ä¿å­˜bpmnå®ä¾‹çš„æ–¹å¼ï¼Œå¹¶è¿›è¡Œäº†å¤§éƒ¨åˆ†æ˜¾ç¤ºè‡ªå®šä¹‰åŠŸèƒ½ï¼Œå®Œæˆäº† bpmn.js åŸºæœ¬ä¾èµ–çš„ typescript ç±»å‹å£°æ˜ã€‚**
>
> **ä½“éªŒè¯·è®¿é—®ï¼š[vite-vue-bpmn-process](https://miyuesc.github.io/vite-vue-bpmn-process/)**
>
> **å›½å†…åŒæ­¥ä½“éªŒåœ°å€ï¼š[vite-vue-bpmn-process](https://miyuesc.gitee.io/vite-vue-bpmn-process/)**
> 
> ä»˜è´¹å’¨è¯¢è¯·åŠ å¾®ä¿¡ï¼ˆæ¯•ç«Ÿç”Ÿæ´»å¤ªç´¯äº†ğŸ˜©ğŸ˜©ğŸ˜©ï¼‰


### å‹æƒ…é“¾æ¥

1. Me: [Bpmn.js ä¸­æ–‡æ–‡æ¡£ã€jsonæè¿°æ–‡ä»¶è¯´æ˜ç­‰](https://juejin.cn/column/6964382482007490590)
2. Yiuman: ä½ä»£ç å¹³å° [citrus](https://github.com/Yiuman/citrus) ï¼Œå·²é›†æˆ activiti7 å·¥ä½œæµå¼•æ“åç«¯éƒ¨åˆ†
3. [éœ–å‘†å‘†ï¼ˆæ˜é‡‘äº”çº§å¤§ä½¬ï¼‰](https://juejin.cn/user/360295513463912): [ã€Šå…¨ç½‘æœ€è¯¦bpmn.jsæ•™æç›®å½•ã€‹](https://juejin.cn/post/6844904017567416328)ï¼Œ[å…³äºbpmn.jsäº¤æµç¾¤çš„è¯´æ˜](https://juejin.cn/post/6844904041026158599)
4. PL-FE: [Bpmn Document](https://github.com/PL-FE/bpmn-doc)
5. èŠ‹é“æºç : [ruoyi-vue-pro](https://gitee.com/zhijiantianya/ruoyi-vue-pro) ,ä¸€å¥—å…¨éƒ¨å¼€æºçš„ä¼ä¸šçº§çš„å¿«é€Ÿå¼€å‘å¹³å°ï¼Œæ¯«æ— ä¿ç•™ç»™ä¸ªäººåŠä¼ä¸šå…è´¹ä½¿ç”¨ã€‚
6. è¿ç»´å’–å•¡å§: [ã€ŠBPMNç³»åˆ—åŸåˆ›æ–‡ç« ã€‹](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU5MDY1MzcyOQ==&action=getalbum&album_id=1576254888626454529&scene=173&from_msgid=2247484449&from_itemidx=1&count=3&nolastread=1#wechat_redirect)


## å‹æƒ…èµåŠ©

ç”Ÿæ´»ä¸æ˜“ï¼Œå·å·ä¸¢ä¸ªèµèµç å§ï¼Œå„ä½å¤§ä½¬èµä¸ªé¥­é’±ğŸ¤ªğŸ¤ªğŸ¤ªğŸ¤ª~~~~

<p>
<img alt="å¾®ä¿¡" src="./public/wechat.jpg" width="240" style="display: inline-block"/>
<img alt="æ”¯ä»˜å®" src="./public/alipay.png" width="240" style="display: inline-block"/>
</p>



## 1. å®‰è£…ä¾èµ– Installation

```shell
npm install
// or yarn install
```

## 2. è¿è¡Œ Quick Start

```shell
npm run demo
// or yarn run demo
```

## 3. æ–‡æ¡£è¯´æ˜ Documentation

### 3.1 MyProcessDesigner

#### 3.1.1 Attributes

| Attribute             | Description                                               | Type        | Accepted Values                        | Default                                                      |
| --------------------- | --------------------------------------------------------- | ----------- | -------------------------------------- | ------------------------------------------------------------ |
| `value/v-model`       | åˆå§‹åŒ–æµç¨‹å¯¹åº”çš„ `xml` å­—ç¬¦ä¸²                             | String      | -                                      | -                                                            |
| `translations`        | ç¿»è¯‘æ–‡ä»¶                                                  | Object      | -                                      | [zh.js](https://github.com/miyuesc/bpmn-process-designer/blob/main/package/designer/plugins/translate/zh.js) |
| `additionalModel`     | è‡ªå®šä¹‰çš„é™„åŠ æ¨¡å—                                          | Object[] / Object | -                                      | -                                                            |
| `moddleExtension`     | è‡ªå®šä¹‰çš„æ‰©å±•æ¨¡å—                                          | Object      | -                                      | -                                                            |
| `onlyCustomizeAddi`   | ä»…ä½¿ç”¨å¼€å‘æ—¶çš„è‡ªå®šä¹‰é™„åŠ æ¨¡å— | Boolean     | -                                      | `false`                                                      |
| `onlyCustomizeModdle` | ä»…ä½¿ç”¨å¼€å‘æ—¶çš„è‡ªå®šä¹‰æ‰©å±•æ¨¡å—        | Boolean     | -                                      | `false`                                                      |
| `prefix`              | æµç¨‹å¼•æ“å¯¹åº”æ‰©å±•å±æ€§å‰ç¼€                         | String      | `camunda`, `activiti`, `flowable`      | `camunda`                                                    |
| `events`              | éœ€è¦ä½¿ç”¨çš„äº‹ä»¶åˆ—è¡¨ï¼Œå¯ç”¨äº‹ä»¶è§ [Bpmn.js ä¸­æ–‡æ–‡æ¡£](https://github.com/miyuesc/blog/blob/master/bpmn/docs/Bpmn.js%20document.md#%E4%B8%89-%E4%BA%8B%E4%BB%B6) | Array       | -                                      | `[element.click]`                                            |
| `headerButtonSize`    | å¤´éƒ¨æŒ‰é’®ç»„çš„å¤§å°                          | String      | `"default", "medium", "small", "mini"` | `small`                                                      |

#### 3.1.2 Events

| Event Name      | Description                                                  | Callback Parameters              |
| --------------- | ------------------------------------------------------------ | -------------------------------- |
| `init-finished` | æµç¨‹å®ä¾‹ç­‰åˆå§‹åŒ–å®Œæˆä¹‹å                                     | `modeler`                        |
| `change`        | æµç¨‹å‘ç”Ÿå¯ç›‘å¬çš„æ”¹å˜æ—¶ ( `EventBus.on("commandStack.changed")`) | `XMLString`                      |
| `destroy`       | ç»„ä»¶å‡†å¤‡é”€æ¯æ—¶ï¼Œæ­¤æ—¶æµç¨‹å®ä¾‹å·²ç»é”€æ¯                         | `modeler`                        |
| `BpmnEvents`    | Like `element.click`, will replace `.` to `-` (`ex: "element.click" => "element-click"` ). If you want to use an event, you must add the event name to the "`events`" parameter<br />ä¼ å…¥å‚æ•° `events` å¯¹åº”çš„äº‹ä»¶å‘ç”Ÿæ—¶è§¦å‘ï¼Œä¼šå°† `events` æ•°ç»„å†…éƒ¨çš„äº‹ä»¶åç§°ä¸­çš„ `.` æ›¿æ¢æˆ `-` æ¥é€‚é… `vue` çš„è‡ªå®šä¹‰ç›‘å¬äº‹ä»¶ã€‚æ¯”å¦‚ `"element.click"` ä¼šå˜æˆ `element-click` | `element, InternalEventInstance` |

#### 3.1.3 Methods

| Method Name             | Parameters                     | Description                              |
| ----------------------- | ------------------------------ | ---------------------------------------- |
| `downloadProcessAsXml`  | `name: string = "diagram"` | ä¸‹è½½æ–‡ä»¶ä¸º `${name}.xml` æ ¼å¼çš„æ–‡ä»¶  |
| `downloadProcessAsBpmn` | `name: string = "diagram"` | ä¸‹è½½æ–‡ä»¶ä¸º `${name}.bpmn` æ ¼å¼çš„æ–‡ä»¶ |
| `downloadProcessAsSvg`  | `name: string = "diagram"` | ä¸‹è½½æ–‡ä»¶ä¸º `${name}.svg` æ ¼å¼çš„æ–‡ä»¶  |
| `processRedo`           | -                              | æ¢å¤ä¸Šæ¬¡æ“ä½œ |
| `processUndo`           | -                              | æ’¤é”€æœ¬æ¬¡æ“ä½œ |
| `processZoomIn`         | `newZoom: number = 0.1`       | æŒ‰ç…§æŒ‡å®šå€ç‡ç¼©å°è§†å›¾ï¼ˆå°æ•°ç‚¹åä¸¤ä½ï¼‰ |
| `processZoomOut`        | `newZoom: number = 1`         | æŒ‰ç…§æŒ‡å®šå€ç‡æ”¾å¤§è§†å›¾ï¼ˆå°æ•°ç‚¹åä¸¤ä½ï¼‰ |
| `processZoomTo` | `newZoom: number = 1` | ç¼©æ”¾è§†å›¾åˆ°æŒ‡å®šå€ç‡ |
| `processReZoom`         | -                              | é‡ç½®ç¼©æ”¾å€ç‡å¹¶å±…ä¸­æ˜¾ç¤ºå…¨éƒ¨å…ƒç´  |
| `processRestart`        | -                              | é‡ç½®æ‰€æœ‰ç¼–è¾‘è¿‡ç¨‹å¹¶æ¸…ç©ºç”»å¸ƒ |
| `createNewDiagram` | `xml: string` | é‡æ–°å¯¼å…¥æ–°çš„xmlå­—ç¬¦ä¸² |

### 3.2 MyProcessPenal

#### 3.2.1 Attributes

| Attribute      | Description                       | Type   | Accepted Values                   | Default   |
| -------------- | --------------------------------- | ------ | --------------------------------- | --------- |
| `bpmn-modeler` | åˆå§‹åŒ–ç”Ÿæˆçš„ `modeler` å®ä¾‹ï¼Œå¿…é¡» | Object | -                                 | -         |
| `prefix`       | æµç¨‹å¼•æ“å¯¹åº”æ‰©å±•å±æ€§å‰ç¼€          | String | `camunda`, `activiti`, `flowable` | `camunda` |
| `width`        | ä¾§è¾¹æ å®½åº¦                        | Number | -                                 | 480       |


## 4. åŠŸèƒ½è¯´æ˜

1. å·¥å…·æ ï¼šåŒ…å«å¸¸è§æ“ä½œï¼Œæ¯”å¦‚æ‰“å¼€æ–‡ä»¶ã€ä¸‹è½½æ–‡ä»¶ã€é¢„è§ˆã€å¯¹é½æ–¹å¼ã€ç¼©æ”¾ç®¡ç†ã€æ’¤é”€åˆ é™¤ç­‰
2. å¸¸è§„ä¿¡æ¯ï¼šidã€åç§°ã€æ‰©å±•å±æ€§ã€å…ƒç´ æ–‡æ¡£
3. ç‰¹æ®ŠèŠ‚ç‚¹å±æ€§ï¼š
   1. æµç¨‹å…¨å±€æ¶ˆæ¯ä¸ä¿¡å·
   2. æ‰§è¡Œç›‘å¬å™¨
   3. ç”¨æˆ·ä»»åŠ¡èŠ‚ç‚¹ ä»»åŠ¡ç›‘å¬å™¨
   4. è¡¨å•é…ç½®
   5. ä»»åŠ¡é…ç½®
   6. å¤šå®ä¾‹ä»»åŠ¡
   7. æµè½¬æ¡ä»¶
4. å†…ç½®å¸¸ç”¨ `camunda` ï¼Œ`flowable`ï¼Œ`activiti` è§£ææ–‡ä»¶
5. è‡ªå®šä¹‰å·¦ä¾§å…ƒç´ æ  `platte` ä¸å¼¹å‡ºèœå• `contentPad` ç¤ºä¾‹æ¨¡å—
6. è‡ªå®šä¹‰æ¸²æŸ“æ–¹æ³• `renderer` æ¨¡å—å®ä¾‹


## 5. è¿è¡Œæˆªå›¾

### 5.1 åˆå§‹ç•Œé¢

![image-20210422140659561](screenshot/image-20210422140659561.png)

### 5.2 ç›‘å¬å™¨

![image-20210422140728176](screenshot/image-20210422140728176.png)



![image-20210422140805725](screenshot/image-20210422140805725.png)

### 5.3 æ‰©å±•å±æ€§

![image-20210422140906725](screenshot/image-20210422140906725.png)

### 5.4 æµè½¬è·¯å¾„é…ç½®

![image-20210422140924114](screenshot/image-20210422140924114.png)


### 5.5 ä»»åŠ¡é…ç½®

![image-20210422141009316](screenshot/image-20210422141009316.png)

### 5.6 å¤šå®ä¾‹ä»»åŠ¡

![image-20210422141035638](screenshot/image-20210422141035638.png)

### 5.8 è¡¨å•é…ç½®

![image-20210422141220571](screenshot/image-20210422141220571.png)

![image-20210422141354311](screenshot/image-20210422141354311.png)

### 5.9 é¢„è§ˆ

![image-20210422140939414](screenshot/image-20210422140939414.png)


## å­¦ä¹ äº¤æµ

å¦‚æœæ‚¨è§‰å¾—è¿™äº›æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæƒ³å’Œæˆ‘ä¸€èµ·å­¦ä¹ ï¼Œæ¬¢è¿æ‚¨å…³æ³¨æˆ‘çš„å¾®ä¿¡è®¢é˜…å·ã€‚

è®¢é˜…å·åç§°ï¼šå‰ç«¯å°ç™½MiyueFE

è®¢é˜…å·ï¼š[å‰ç«¯å°ç™½MiyueFE](https://images.weserv.nl/?url=https://i0.hdslb.com/bfs/article/fdef0d8f1731ed03b4123d22b7d82acacb6ca10c.jpg)
